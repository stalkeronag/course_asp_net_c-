# Работа с данными

В рамках курса мы не будем работать с базой данных напрямую. Вместо этого воспользуемся ORM-решением от компании Microsoft под названием
[Entity Framework](https://learn.microsoft.com/ru-ru/ef/) (EF). ORM автоматически транслирует C#-код в SQL-запросы к базе данных, 
позволяя разработчикам сконцентрироваться на бизнес-логике вместо низкоуровневых деталей доступа к данным.

### Плюсы использования Entity Framework
- Ускорение процесса разработки: EF автоматически генерирует код для доступа к базе данных и сокращает время разработки.
- Облегчение создания запросов: EF использует LINQ (Language Integrated Query) для создания запросов, что позволяет упростить их написание.
- Улучшение безопасности: EF позволяет защитить данные от SQL-инъекций и других угроз безопасности.
- Улучшение тестирования: EF позволяет использовать подмену контекста данных для тестирования бизнес-логики, не касающейся базы данных.
- ORM предоставляет абстракцию базы данных, что позволяет разработчикам работать с базой данных на уровне объектов, скрывая детали их реализации, включая конкретные запросы SQL и типы данных конкретной СУБД. ORM предоставляет абстракцию базы данных, что позволяет разработчикам работать с базой данных на уровне объектов, скрывая детали их реализации, включая конкретные запросы SQL и типы данных конкретной СУБД.

### Минусы использования Entity Framework
- Некоторые запросы могут выполняться медленнее, чем при использовании низкоуровневых методов доступа к данным.
- EF может ограничивать способы проектирования базы данных, не позволяя использовать некоторые продвинутые возможности СУБД.
- EF может привести к потере полного контроля над запросами и структурой базы данных.

В реальных web-приложениях часто приходится писать SQL, а не полагаться на ORM. В высоконагруженных приложениях ORM
вообще не используется. Более глубокое рассмотрение вопросов проектирования баз данных и оптимизации запросов выходит за пределы курса. 

# Практика

- Реализовать все методы API класса `ProductController`, созданные в ходе выполнения прошлого задания.
- Используйте [in-memory реализацию](https://learn.microsoft.com/ru-ru/ef/core/providers/in-memory/?tabs=dotnet-core-cli) поставщика данных. Настоящую БД мы подключим позже. 

# Инструкция

Предыдущая, эта и все следующие работы выполняются по одной схеме:
- Переходите в ветку с заданием.
- Запускаете тесты, изучаете сообщения с ошибками.
- Выполняете практическую работу и убеждаетесь, что все тесты проходят.
- Создаёте [MR](https://docs.gitlab.com/ee/user/project/merge_requests/) в ветку `main`.

Следующие задания не будут содержать параграфа «инструкция». В случае затруднений еще раз прочитайте
[пошаговую инструкцию](../-/wikis/Как-работать-с-репозиторием/Пошаговая-инструкция), она актуальна для всех заданий.

# Теория

- [Документация по Entity Framework](https://learn.microsoft.com/ru-ru/ef/)
- [Работа с базой данных на Metanit](https://metanit.com/sharp/aspnet6/12.1.php) (глава 12)
- [Руководство по Entity Framework Core 7 на Metanit](https://metanit.com/sharp/efcore/)
- *[Деревья выражений в enterprise-разработке](https://habr.com/ru/company/jugru/blog/423891/)*\* *- для тех, кто хочет знать как Entity Framework работает под капотом.*
